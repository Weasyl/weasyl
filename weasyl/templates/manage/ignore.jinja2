{% extends 'common/base.jinja2' %}
{% from 'common/stage_title.jinja2' import stage %}
{% block content %}
    {{ stage("Ignored Users", "Settings") }}
<div class="content">

  <div class="form skinny">
    <form name="controlignoreuser" action="/control/ignoreuser" method="post">
      <input type="hidden" name="token" value="{{ TOKEN() }}" />

      <h3>Add Users to Ignore List</h3>
      <p>Enter the usernames of users who you wish to ignore while browsing the site. You can enter multiple usernames by separating each name with a semicolon (ex: user1;user2)</p>

      <label for="ignoreusername">Usernames:</label>
      <input type="text" name="username" class="input last-input" id="ignoreusername" />

      <button type="submit" class="button negative">Ignore User(s)</button>
    </form>

    <form name="controlunignoreuser" action="/control/unignoreuser" method="post">
      <input type="hidden" name="token" value="{{ TOKEN() }}" />

      <h3>Remove Users from Ignore List</h3>
      <p>Enter the usernames of users who you no longer wish to ignore. You can enter multiple usernames by separating each name with a semicolon</p>

      <label for="ignoreremoveusername">Usernames:</label>
      <input type="text" name="username" class="input last-input" id="ignoreremoveusername" />

      <button type="submit" class="button positive">Un-Ignore User(s)</button>
    </form>

    <h3>Users You Already Ignore</h3>

    {% if query %}
      <ul>
          {% for i in query %}
              <li><a href="/~{{ i['username'] | LOGIN }}">{{ i['username'] }}</a></li>
          {% endfor %}
      </ul>
    {% else %}
      <p>(nobody!)</p>
    {% endif %}
  </div>
</div>
{% endblock %}