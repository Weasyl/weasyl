# {py:mod}`weasyl.searchtag`

```{py:module} weasyl.searchtag
```

```{autodoc2-docstring} weasyl.searchtag
:allowtitles:
```

## Module Contents

### Classes

````{list-table}
:class: autosummary longtable
:align: left

* - {py:obj}`TaggableTarget <weasyl.searchtag.TaggableTarget>`
  - ```{autodoc2-docstring} weasyl.searchtag.TaggableTarget
    :summary:
    ```
* - {py:obj}`SubmissionTarget <weasyl.searchtag.SubmissionTarget>`
  - ```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget
    :summary:
    ```
* - {py:obj}`CharacterTarget <weasyl.searchtag.CharacterTarget>`
  - ```{autodoc2-docstring} weasyl.searchtag.CharacterTarget
    :summary:
    ```
* - {py:obj}`JournalTarget <weasyl.searchtag.JournalTarget>`
  - ```{autodoc2-docstring} weasyl.searchtag.JournalTarget
    :summary:
    ```
* - {py:obj}`GroupedTags <weasyl.searchtag.GroupedTags>`
  - ```{autodoc2-docstring} weasyl.searchtag.GroupedTags
    :summary:
    ```
* - {py:obj}`SuggestionAction <weasyl.searchtag.SuggestionAction>`
  -
* - {py:obj}`SuggestionActionFailure <weasyl.searchtag.SuggestionActionFailure>`
  - ```{autodoc2-docstring} weasyl.searchtag.SuggestionActionFailure
    :summary:
    ```
* - {py:obj}`SuggestionActionSuccess <weasyl.searchtag.SuggestionActionSuccess>`
  - ```{autodoc2-docstring} weasyl.searchtag.SuggestionActionSuccess
    :summary:
    ```
* - {py:obj}`SuggestionFeedback <weasyl.searchtag.SuggestionFeedback>`
  - ```{autodoc2-docstring} weasyl.searchtag.SuggestionFeedback
    :summary:
    ```
````

### Functions

````{list-table}
:class: autosummary longtable
:align: left

* - {py:obj}`get_target <weasyl.searchtag.get_target>`
  - ```{autodoc2-docstring} weasyl.searchtag.get_target
    :summary:
    ```
* - {py:obj}`select <weasyl.searchtag.select>`
  - ```{autodoc2-docstring} weasyl.searchtag.select
    :summary:
    ```
* - {py:obj}`select_grouped <weasyl.searchtag.select_grouped>`
  - ```{autodoc2-docstring} weasyl.searchtag.select_grouped
    :summary:
    ```
* - {py:obj}`select_list <weasyl.searchtag.select_list>`
  - ```{autodoc2-docstring} weasyl.searchtag.select_list
    :summary:
    ```
* - {py:obj}`_get_or_create <weasyl.searchtag._get_or_create>`
  - ```{autodoc2-docstring} weasyl.searchtag._get_or_create
    :summary:
    ```
* - {py:obj}`get_or_create <weasyl.searchtag.get_or_create>`
  - ```{autodoc2-docstring} weasyl.searchtag.get_or_create
    :summary:
    ```
* - {py:obj}`get_ids <weasyl.searchtag.get_ids>`
  - ```{autodoc2-docstring} weasyl.searchtag.get_ids
    :summary:
    ```
* - {py:obj}`parse_tags <weasyl.searchtag.parse_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag.parse_tags
    :summary:
    ```
* - {py:obj}`parse_restricted_tags <weasyl.searchtag.parse_restricted_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag.parse_restricted_tags
    :summary:
    ```
* - {py:obj}`is_tag_restriction_pattern_valid <weasyl.searchtag.is_tag_restriction_pattern_valid>`
  - ```{autodoc2-docstring} weasyl.searchtag.is_tag_restriction_pattern_valid
    :summary:
    ```
* - {py:obj}`_update_submission_tags <weasyl.searchtag._update_submission_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag._update_submission_tags
    :summary:
    ```
* - {py:obj}`_target_unpack <weasyl.searchtag._target_unpack>`
  - ```{autodoc2-docstring} weasyl.searchtag._target_unpack
    :summary:
    ```
* - {py:obj}`_get_ownerid <weasyl.searchtag._get_ownerid>`
  - ```{autodoc2-docstring} weasyl.searchtag._get_ownerid
    :summary:
    ```
* - {py:obj}`_set_suggested_tags <weasyl.searchtag._set_suggested_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag._set_suggested_tags
    :summary:
    ```
* - {py:obj}`_set_commission_tags <weasyl.searchtag._set_commission_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag._set_commission_tags
    :summary:
    ```
* - {py:obj}`set_commission_preferred_tags <weasyl.searchtag.set_commission_preferred_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag.set_commission_preferred_tags
    :summary:
    ```
* - {py:obj}`set_commission_optout_tags <weasyl.searchtag.set_commission_optout_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag.set_commission_optout_tags
    :summary:
    ```
* - {py:obj}`associate <weasyl.searchtag.associate>`
  - ```{autodoc2-docstring} weasyl.searchtag.associate
    :summary:
    ```
* - {py:obj}`_undo_token_create <weasyl.searchtag._undo_token_create>`
  - ```{autodoc2-docstring} weasyl.searchtag._undo_token_create
    :summary:
    ```
* - {py:obj}`_undo_token_validate <weasyl.searchtag._undo_token_validate>`
  - ```{autodoc2-docstring} weasyl.searchtag._undo_token_validate
    :summary:
    ```
* - {py:obj}`suggestion_arbitrate <weasyl.searchtag.suggestion_arbitrate>`
  - ```{autodoc2-docstring} weasyl.searchtag.suggestion_arbitrate
    :summary:
    ```
* - {py:obj}`suggestion_action_undo <weasyl.searchtag.suggestion_action_undo>`
  - ```{autodoc2-docstring} weasyl.searchtag.suggestion_action_undo
    :summary:
    ```
* - {py:obj}`set_tag_feedback <weasyl.searchtag.set_tag_feedback>`
  - ```{autodoc2-docstring} weasyl.searchtag.set_tag_feedback
    :summary:
    ```
* - {py:obj}`tag_history <weasyl.searchtag.tag_history>`
  - ```{autodoc2-docstring} weasyl.searchtag.tag_history
    :summary:
    ```
* - {py:obj}`add_and_get_searchtags <weasyl.searchtag.add_and_get_searchtags>`
  - ```{autodoc2-docstring} weasyl.searchtag.add_and_get_searchtags
    :summary:
    ```
* - {py:obj}`edit_user_tag_restrictions <weasyl.searchtag.edit_user_tag_restrictions>`
  - ```{autodoc2-docstring} weasyl.searchtag.edit_user_tag_restrictions
    :summary:
    ```
* - {py:obj}`edit_global_tag_restrictions <weasyl.searchtag.edit_global_tag_restrictions>`
  - ```{autodoc2-docstring} weasyl.searchtag.edit_global_tag_restrictions
    :summary:
    ```
* - {py:obj}`get_global_tag_restrictions <weasyl.searchtag.get_global_tag_restrictions>`
  - ```{autodoc2-docstring} weasyl.searchtag.get_global_tag_restrictions
    :summary:
    ```
* - {py:obj}`query_user_restricted_tags <weasyl.searchtag.query_user_restricted_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag.query_user_restricted_tags
    :summary:
    ```
* - {py:obj}`query_global_restricted_tags <weasyl.searchtag.query_global_restricted_tags>`
  - ```{autodoc2-docstring} weasyl.searchtag.query_global_restricted_tags
    :summary:
    ```
* - {py:obj}`_get_restricted_tag_matcher <weasyl.searchtag._get_restricted_tag_matcher>`
  - ```{autodoc2-docstring} weasyl.searchtag._get_restricted_tag_matcher
    :summary:
    ```
````

### Data

````{list-table}
:class: autosummary longtable
:align: left

* - {py:obj}`_TAG_DELIMITER <weasyl.searchtag._TAG_DELIMITER>`
  - ```{autodoc2-docstring} weasyl.searchtag._TAG_DELIMITER
    :summary:
    ```
* - {py:obj}`MAX_PREFERRED_TAGS <weasyl.searchtag.MAX_PREFERRED_TAGS>`
  - ```{autodoc2-docstring} weasyl.searchtag.MAX_PREFERRED_TAGS
    :summary:
    ```
* - {py:obj}`_TARGET_TYPES_BY_CODE <weasyl.searchtag._TARGET_TYPES_BY_CODE>`
  - ```{autodoc2-docstring} weasyl.searchtag._TARGET_TYPES_BY_CODE
    :summary:
    ```
* - {py:obj}`_TARGET_TYPES_BY_FEATURE <weasyl.searchtag._TARGET_TYPES_BY_FEATURE>`
  - ```{autodoc2-docstring} weasyl.searchtag._TARGET_TYPES_BY_FEATURE
    :summary:
    ```
* - {py:obj}`SuggestionActionResult <weasyl.searchtag.SuggestionActionResult>`
  - ```{autodoc2-docstring} weasyl.searchtag.SuggestionActionResult
    :summary:
    ```
* - {py:obj}`_undo_key <weasyl.searchtag._undo_key>`
  - ```{autodoc2-docstring} weasyl.searchtag._undo_key
    :summary:
    ```
* - {py:obj}`_UNDO_TOKEN_MAX_CLOCK_SKEW <weasyl.searchtag._UNDO_TOKEN_MAX_CLOCK_SKEW>`
  - ```{autodoc2-docstring} weasyl.searchtag._UNDO_TOKEN_MAX_CLOCK_SKEW
    :summary:
    ```
* - {py:obj}`_UNDO_TOKEN_VALIDITY <weasyl.searchtag._UNDO_TOKEN_VALIDITY>`
  - ```{autodoc2-docstring} weasyl.searchtag._UNDO_TOKEN_VALIDITY
    :summary:
    ```
* - {py:obj}`_UNDO_ENCRYPTED_PART <weasyl.searchtag._UNDO_ENCRYPTED_PART>`
  - ```{autodoc2-docstring} weasyl.searchtag._UNDO_ENCRYPTED_PART
    :summary:
    ```
* - {py:obj}`_POLY1305_TAG_SIZE <weasyl.searchtag._POLY1305_TAG_SIZE>`
  - ```{autodoc2-docstring} weasyl.searchtag._POLY1305_TAG_SIZE
    :summary:
    ```
* - {py:obj}`_UNDO_TOKEN_NONCE_SIZE <weasyl.searchtag._UNDO_TOKEN_NONCE_SIZE>`
  - ```{autodoc2-docstring} weasyl.searchtag._UNDO_TOKEN_NONCE_SIZE
    :summary:
    ```
* - {py:obj}`_UNDO_HEADER <weasyl.searchtag._UNDO_HEADER>`
  - ```{autodoc2-docstring} weasyl.searchtag._UNDO_HEADER
    :summary:
    ```
* - {py:obj}`_UNDO_AAD <weasyl.searchtag._UNDO_AAD>`
  - ```{autodoc2-docstring} weasyl.searchtag._UNDO_AAD
    :summary:
    ```
````

### API

````{py:data} _TAG_DELIMITER
:canonical: weasyl.searchtag._TAG_DELIMITER
:value: >
   'compile(...)'

```{autodoc2-docstring} weasyl.searchtag._TAG_DELIMITER
```

````

````{py:data} MAX_PREFERRED_TAGS
:canonical: weasyl.searchtag.MAX_PREFERRED_TAGS
:value: >
   50

```{autodoc2-docstring} weasyl.searchtag.MAX_PREFERRED_TAGS
```

````

`````{py:class} TaggableTarget(id: int)
:canonical: weasyl.searchtag.TaggableTarget

```{autodoc2-docstring} weasyl.searchtag.TaggableTarget
```

```{rubric} Initialization
```

```{autodoc2-docstring} weasyl.searchtag.TaggableTarget.__init__
```

````{py:attribute} __slots__
:canonical: weasyl.searchtag.TaggableTarget.__slots__
:value: >
   ('id',)

```{autodoc2-docstring} weasyl.searchtag.TaggableTarget.__slots__
```

````

````{py:attribute} id
:canonical: weasyl.searchtag.TaggableTarget.id
:type: int
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.TaggableTarget.id
```

````

`````

`````{py:class} SubmissionTarget(id: int)
:canonical: weasyl.searchtag.SubmissionTarget

Bases: {py:obj}`weasyl.searchtag.TaggableTarget`

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget
```

```{rubric} Initialization
```

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget.__init__
```

````{py:attribute} table
:canonical: weasyl.searchtag.SubmissionTarget.table
:value: >
   'searchmapsubmit'

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget.table
```

````

````{py:attribute} history_table
:canonical: weasyl.searchtag.SubmissionTarget.history_table
:value: >
   'tag_updates'

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget.history_table
```

````

````{py:attribute} feedback_table
:canonical: weasyl.searchtag.SubmissionTarget.feedback_table
:value: >
   'tag_suggestion_feedback_submission'

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget.feedback_table
```

````

````{py:attribute} feature
:canonical: weasyl.searchtag.SubmissionTarget.feature
:value: >
   'submit'

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget.feature
```

````

````{py:attribute} path_component
:canonical: weasyl.searchtag.SubmissionTarget.path_component
:value: >
   'submission'

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget.path_component
```

````

````{py:attribute} type_code
:canonical: weasyl.searchtag.SubmissionTarget.type_code
:value: >
   b's'

```{autodoc2-docstring} weasyl.searchtag.SubmissionTarget.type_code
```

````

`````

`````{py:class} CharacterTarget(id: int)
:canonical: weasyl.searchtag.CharacterTarget

Bases: {py:obj}`weasyl.searchtag.TaggableTarget`

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget
```

```{rubric} Initialization
```

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.__init__
```

````{py:attribute} table
:canonical: weasyl.searchtag.CharacterTarget.table
:value: >
   'searchmapchar'

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.table
```

````

````{py:attribute} history_table
:canonical: weasyl.searchtag.CharacterTarget.history_table
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.history_table
```

````

````{py:attribute} feedback_table
:canonical: weasyl.searchtag.CharacterTarget.feedback_table
:value: >
   'tag_suggestion_feedback_character'

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.feedback_table
```

````

````{py:attribute} feature
:canonical: weasyl.searchtag.CharacterTarget.feature
:value: >
   'char'

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.feature
```

````

````{py:attribute} arg_name
:canonical: weasyl.searchtag.CharacterTarget.arg_name
:value: >
   'charid'

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.arg_name
```

````

````{py:attribute} path_component
:canonical: weasyl.searchtag.CharacterTarget.path_component
:value: >
   'character'

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.path_component
```

````

````{py:attribute} type_code
:canonical: weasyl.searchtag.CharacterTarget.type_code
:value: >
   b'c'

```{autodoc2-docstring} weasyl.searchtag.CharacterTarget.type_code
```

````

`````

`````{py:class} JournalTarget(id: int)
:canonical: weasyl.searchtag.JournalTarget

Bases: {py:obj}`weasyl.searchtag.TaggableTarget`

```{autodoc2-docstring} weasyl.searchtag.JournalTarget
```

```{rubric} Initialization
```

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.__init__
```

````{py:attribute} table
:canonical: weasyl.searchtag.JournalTarget.table
:value: >
   'searchmapjournal'

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.table
```

````

````{py:attribute} history_table
:canonical: weasyl.searchtag.JournalTarget.history_table
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.history_table
```

````

````{py:attribute} feedback_table
:canonical: weasyl.searchtag.JournalTarget.feedback_table
:value: >
   'tag_suggestion_feedback_journal'

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.feedback_table
```

````

````{py:attribute} feature
:canonical: weasyl.searchtag.JournalTarget.feature
:value: >
   'journal'

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.feature
```

````

````{py:attribute} arg_name
:canonical: weasyl.searchtag.JournalTarget.arg_name
:value: >
   'journalid'

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.arg_name
```

````

````{py:attribute} path_component
:canonical: weasyl.searchtag.JournalTarget.path_component
:value: >
   'journal'

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.path_component
```

````

````{py:attribute} type_code
:canonical: weasyl.searchtag.JournalTarget.type_code
:value: >
   b'j'

```{autodoc2-docstring} weasyl.searchtag.JournalTarget.type_code
```

````

`````

````{py:data} _TARGET_TYPES_BY_CODE
:canonical: weasyl.searchtag._TARGET_TYPES_BY_CODE
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag._TARGET_TYPES_BY_CODE
```

````

````{py:data} _TARGET_TYPES_BY_FEATURE
:canonical: weasyl.searchtag._TARGET_TYPES_BY_FEATURE
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag._TARGET_TYPES_BY_FEATURE
```

````

````{py:function} get_target(feature: str, targetid: int) -> weasyl.searchtag.TaggableTarget
:canonical: weasyl.searchtag.get_target

```{autodoc2-docstring} weasyl.searchtag.get_target
```
````

````{py:function} select(submitid=None, charid=None, journalid=None) -> list[str]
:canonical: weasyl.searchtag.select

```{autodoc2-docstring} weasyl.searchtag.select
```
````

`````{py:class} GroupedTags
:canonical: weasyl.searchtag.GroupedTags

```{autodoc2-docstring} weasyl.searchtag.GroupedTags
```

````{py:attribute} artist
:canonical: weasyl.searchtag.GroupedTags.artist
:type: list[str]
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.GroupedTags.artist
```

````

````{py:attribute} suggested
:canonical: weasyl.searchtag.GroupedTags.suggested
:type: list[str]
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.GroupedTags.suggested
```

````

````{py:attribute} own_suggested
:canonical: weasyl.searchtag.GroupedTags.own_suggested
:type: list[str]
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.GroupedTags.own_suggested
```

````

`````

````{py:function} select_grouped(userid: int, target: weasyl.searchtag.TaggableTarget) -> weasyl.searchtag.GroupedTags
:canonical: weasyl.searchtag.select_grouped

```{autodoc2-docstring} weasyl.searchtag.select_grouped
```
````

````{py:function} select_list(map_table, targetids)
:canonical: weasyl.searchtag.select_list

```{autodoc2-docstring} weasyl.searchtag.select_list
```
````

````{py:function} _get_or_create(name)
:canonical: weasyl.searchtag._get_or_create

```{autodoc2-docstring} weasyl.searchtag._get_or_create
```
````

````{py:function} get_or_create(name)
:canonical: weasyl.searchtag.get_or_create

```{autodoc2-docstring} weasyl.searchtag.get_or_create
```
````

````{py:function} get_ids(names)
:canonical: weasyl.searchtag.get_ids

```{autodoc2-docstring} weasyl.searchtag.get_ids
```
````

````{py:function} parse_tags(text)
:canonical: weasyl.searchtag.parse_tags

```{autodoc2-docstring} weasyl.searchtag.parse_tags
```
````

````{py:function} parse_restricted_tags(text)
:canonical: weasyl.searchtag.parse_restricted_tags

```{autodoc2-docstring} weasyl.searchtag.parse_restricted_tags
```
````

````{py:function} is_tag_restriction_pattern_valid(text)
:canonical: weasyl.searchtag.is_tag_restriction_pattern_valid

```{autodoc2-docstring} weasyl.searchtag.is_tag_restriction_pattern_valid
```
````

````{py:function} _update_submission_tags(tx, submitid)
:canonical: weasyl.searchtag._update_submission_tags

```{autodoc2-docstring} weasyl.searchtag._update_submission_tags
```
````

````{py:function} _target_unpack(type_code: bytes, id: int) -> weasyl.searchtag.TaggableTarget
:canonical: weasyl.searchtag._target_unpack

```{autodoc2-docstring} weasyl.searchtag._target_unpack
```
````

````{py:function} _get_ownerid(target: weasyl.searchtag.TaggableTarget) -> int | None
:canonical: weasyl.searchtag._get_ownerid

```{autodoc2-docstring} weasyl.searchtag._get_ownerid
```
````

````{py:function} _set_suggested_tags(*, userid: int, target: weasyl.searchtag.TaggableTarget, ownerid: int, tag_names: set[str]) -> list[str]
:canonical: weasyl.searchtag._set_suggested_tags

```{autodoc2-docstring} weasyl.searchtag._set_suggested_tags
```
````

````{py:function} _set_commission_tags(*, userid: int, tag_names: set[str], table: str) -> None
:canonical: weasyl.searchtag._set_commission_tags

```{autodoc2-docstring} weasyl.searchtag._set_commission_tags
```
````

````{py:function} set_commission_preferred_tags(*, userid: int, tag_names: set[str]) -> None
:canonical: weasyl.searchtag.set_commission_preferred_tags

```{autodoc2-docstring} weasyl.searchtag.set_commission_preferred_tags
```
````

````{py:function} set_commission_optout_tags(*, userid: int, tag_names: set[str]) -> None
:canonical: weasyl.searchtag.set_commission_optout_tags

```{autodoc2-docstring} weasyl.searchtag.set_commission_optout_tags
```
````

````{py:function} associate(*, userid: int, target: weasyl.searchtag.TaggableTarget, tag_names: set[str]) -> list[str]
:canonical: weasyl.searchtag.associate

```{autodoc2-docstring} weasyl.searchtag.associate
```
````

`````{py:class} SuggestionAction(*args, **kwds)
:canonical: weasyl.searchtag.SuggestionAction

Bases: {py:obj}`enum.Enum`

````{py:attribute} REJECT
:canonical: weasyl.searchtag.SuggestionAction.REJECT
:value: >
   'auto(...)'

```{autodoc2-docstring} weasyl.searchtag.SuggestionAction.REJECT
```

````

````{py:attribute} APPROVE
:canonical: weasyl.searchtag.SuggestionAction.APPROVE
:value: >
   'auto(...)'

```{autodoc2-docstring} weasyl.searchtag.SuggestionAction.APPROVE
```

````

`````

````{py:class} SuggestionActionFailure
:canonical: weasyl.searchtag.SuggestionActionFailure

```{autodoc2-docstring} weasyl.searchtag.SuggestionActionFailure
```

````

`````{py:class} SuggestionActionSuccess
:canonical: weasyl.searchtag.SuggestionActionSuccess

```{autodoc2-docstring} weasyl.searchtag.SuggestionActionSuccess
```

````{py:attribute} undo_token
:canonical: weasyl.searchtag.SuggestionActionSuccess.undo_token
:type: bytes | None
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.SuggestionActionSuccess.undo_token
```

````

`````

````{py:data} SuggestionActionResult
:canonical: weasyl.searchtag.SuggestionActionResult
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.SuggestionActionResult
```

````

````{py:data} _undo_key
:canonical: weasyl.searchtag._undo_key
:value: >
   'ChaCha20Poly1305(...)'

```{autodoc2-docstring} weasyl.searchtag._undo_key
```

````

````{py:data} _UNDO_TOKEN_MAX_CLOCK_SKEW
:canonical: weasyl.searchtag._UNDO_TOKEN_MAX_CLOCK_SKEW
:value: >
   2

```{autodoc2-docstring} weasyl.searchtag._UNDO_TOKEN_MAX_CLOCK_SKEW
```

````

````{py:data} _UNDO_TOKEN_VALIDITY
:canonical: weasyl.searchtag._UNDO_TOKEN_VALIDITY
:value: >
   60

```{autodoc2-docstring} weasyl.searchtag._UNDO_TOKEN_VALIDITY
```

````

````{py:data} _UNDO_ENCRYPTED_PART
:canonical: weasyl.searchtag._UNDO_ENCRYPTED_PART
:value: >
   'Struct(...)'

```{autodoc2-docstring} weasyl.searchtag._UNDO_ENCRYPTED_PART
```

````

````{py:data} _POLY1305_TAG_SIZE
:canonical: weasyl.searchtag._POLY1305_TAG_SIZE
:value: >
   16

```{autodoc2-docstring} weasyl.searchtag._POLY1305_TAG_SIZE
```

````

````{py:data} _UNDO_TOKEN_NONCE_SIZE
:canonical: weasyl.searchtag._UNDO_TOKEN_NONCE_SIZE
:value: >
   12

```{autodoc2-docstring} weasyl.searchtag._UNDO_TOKEN_NONCE_SIZE
```

````

````{py:data} _UNDO_HEADER
:canonical: weasyl.searchtag._UNDO_HEADER
:value: >
   'Struct(...)'

```{autodoc2-docstring} weasyl.searchtag._UNDO_HEADER
```

````

````{py:data} _UNDO_AAD
:canonical: weasyl.searchtag._UNDO_AAD
:value: >
   'Struct(...)'

```{autodoc2-docstring} weasyl.searchtag._UNDO_AAD
```

````

```{py:exception} UndoExpired()
:canonical: weasyl.searchtag.UndoExpired

Bases: {py:obj}`Exception`

```

````{py:function} _undo_token_create(*, target: weasyl.searchtag.TaggableTarget, tagid: int, added_by: int) -> bytes
:canonical: weasyl.searchtag._undo_token_create

```{autodoc2-docstring} weasyl.searchtag._undo_token_create
```
````

````{py:function} _undo_token_validate(*, target: weasyl.searchtag.TaggableTarget, tagid: int, undo_token: bytes) -> int
:canonical: weasyl.searchtag._undo_token_validate

```{autodoc2-docstring} weasyl.searchtag._undo_token_validate
```
````

````{py:function} suggestion_arbitrate(*, userid: int, target: weasyl.searchtag.TaggableTarget, tag_name: str, action: weasyl.searchtag.SuggestionAction) -> weasyl.searchtag.SuggestionActionResult
:canonical: weasyl.searchtag.suggestion_arbitrate

```{autodoc2-docstring} weasyl.searchtag.suggestion_arbitrate
```
````

````{py:function} suggestion_action_undo(*, userid: int, target: weasyl.searchtag.TaggableTarget, tag_name: str, undo_token: bytes) -> None
:canonical: weasyl.searchtag.suggestion_action_undo

```{autodoc2-docstring} weasyl.searchtag.suggestion_action_undo
```
````

`````{py:class} SuggestionFeedback
:canonical: weasyl.searchtag.SuggestionFeedback

```{autodoc2-docstring} weasyl.searchtag.SuggestionFeedback
```

````{py:attribute} incorrect
:canonical: weasyl.searchtag.SuggestionFeedback.incorrect
:type: bool
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.SuggestionFeedback.incorrect
```

````

````{py:attribute} unwanted
:canonical: weasyl.searchtag.SuggestionFeedback.unwanted
:type: bool
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.SuggestionFeedback.unwanted
```

````

````{py:attribute} abusive
:canonical: weasyl.searchtag.SuggestionFeedback.abusive
:type: bool
:value: >
   None

```{autodoc2-docstring} weasyl.searchtag.SuggestionFeedback.abusive
```

````

`````

````{py:function} set_tag_feedback(*, userid: int, target: weasyl.searchtag.TaggableTarget, tag_name: int, feedback: weasyl.searchtag.SuggestionFeedback) -> None
:canonical: weasyl.searchtag.set_tag_feedback

```{autodoc2-docstring} weasyl.searchtag.set_tag_feedback
```
````

````{py:function} tag_history(submitid)
:canonical: weasyl.searchtag.tag_history

```{autodoc2-docstring} weasyl.searchtag.tag_history
```
````

````{py:function} add_and_get_searchtags(tags)
:canonical: weasyl.searchtag.add_and_get_searchtags

```{autodoc2-docstring} weasyl.searchtag.add_and_get_searchtags
```
````

````{py:function} edit_user_tag_restrictions(userid, tags)
:canonical: weasyl.searchtag.edit_user_tag_restrictions

```{autodoc2-docstring} weasyl.searchtag.edit_user_tag_restrictions
```
````

````{py:function} edit_global_tag_restrictions(userid, tags)
:canonical: weasyl.searchtag.edit_global_tag_restrictions

```{autodoc2-docstring} weasyl.searchtag.edit_global_tag_restrictions
```
````

````{py:function} get_global_tag_restrictions(userid)
:canonical: weasyl.searchtag.get_global_tag_restrictions

```{autodoc2-docstring} weasyl.searchtag.get_global_tag_restrictions
```
````

````{py:function} query_user_restricted_tags(ownerid)
:canonical: weasyl.searchtag.query_user_restricted_tags

```{autodoc2-docstring} weasyl.searchtag.query_user_restricted_tags
```
````

````{py:function} query_global_restricted_tags()
:canonical: weasyl.searchtag.query_global_restricted_tags

```{autodoc2-docstring} weasyl.searchtag.query_global_restricted_tags
```
````

````{py:function} _get_restricted_tag_matcher(patterns)
:canonical: weasyl.searchtag._get_restricted_tag_matcher

```{autodoc2-docstring} weasyl.searchtag._get_restricted_tag_matcher
```
````
